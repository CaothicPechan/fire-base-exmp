{"version":3,"sources":["../js/app.js"],"names":["admin","app","port","urlFirebase","set","process","env","PORT","use","bodyParser","json","urlencoded","extended","get","req","res","response","listen","console","log","initializeApp","credential","cert","serviceAccount","databaseURL","db","database","ref","on","snapshot","val","status","errorObject","code"],"mappings":";;AAAA;;;;AACA;;;;AACA;;IAAYA,K;;AACZ;;;;;;;;AAIA,IAAMC,MAAM,wBAAZ;AACA,IAAIC,OAAO,IAAX;AACA,IAAIC,cAAc,6CAAlB;;AAEAF,IAAIG,GAAJ,CAAQ,MAAR,EAAiBC,QAAQC,GAAR,CAAYC,IAAZ,IAAoBL,IAArC;;AAEAD,IAAIO,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;;AAEAT,IAAIO,GAAJ,CAAQC,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAR;;AAEAX,IAAIY,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAKC,GAAL,EAAa;AACxBA,MAAIL,IAAJ,CAAS;AACLM,cAAU;AADL,GAAT;AAGD,CAJD;;AAQAf,IAAIgB,MAAJ,CAAWhB,IAAIY,GAAJ,CAAQ,MAAR,CAAX,EAA4B,YAAY;AACpCK,UAAQC,GAAR,CAAY,mBAAZ,EAAiClB,IAAIY,GAAJ,CAAQ,MAAR,CAAjC;AACH,CAFD;;AAKAb,MAAMoB,aAAN,CAAoB;AAClBC,cAAYrB,MAAMqB,UAAN,CAAiBC,IAAjB,CAAsBC,kBAAtB,CADM;AAElBC,eAAarB;AAFK,CAApB;;AAKA,IAAIsB,KAAKzB,MAAM0B,QAAN,EAAT;AACA,IAAIC,MAAMF,GAAGE,GAAH,CAAO,QAAP,CAAV;;AAGA1B,IAAIY,GAAJ,CAAQ,QAAR,EAAkB,UAACC,GAAD,EAAKC,GAAL,EAAa;AAC7BY,MAAIC,EAAJ,CAAO,OAAP,EAAgB,UAASC,QAAT,EAAmB;AACjCX,YAAQC,GAAR,CAAYU,SAASC,GAAT,EAAZ;AACAf,QAAIL,IAAJ,CAASmB,SAASC,GAAT,EAAT;AACAf,QAAIgB,MAAJ,CAAW,GAAX;AACD,GAJD,EAIG,UAAUC,WAAV,EAAuB;AACxBd,YAAQC,GAAR,CAAY,sBAAsBa,YAAYC,IAA9C;AACD,GAND;AASD,CAVD","file":"app.js","sourcesContent":["import express from 'express'\nimport bodyParser from 'body-parser'\nimport * as admin from 'firebase-admin';\nimport serviceAccount from '../proxy-key.json'\n\n\n\nconst app = express();\nvar port = 8000;\nvar urlFirebase = 'https://private-callproxy-db.firebaseio.com';\n\napp.set('port', (process.env.PORT || port))\n\napp.use(bodyParser.json())\n\napp.use(bodyParser.urlencoded({ extended: true }));\n\napp.get('/', (req,res) => {\n  res.json({\n      response: 'Hello index deploy for Firebase!'\n  });\n});\n\n\n\napp.listen(app.get('port'), function () {\n    console.log('Running on port: ', app.get('port'))\n})    \n\n\nadmin.initializeApp({\n  credential: admin.credential.cert(serviceAccount),\n  databaseURL: urlFirebase\n});\n\nvar db = admin.database();\nvar ref = db.ref('/users');\n\n\napp.get('/users', (req,res) => {\n  ref.on(\"value\", function(snapshot) {\n    console.log(snapshot.val());\n    res.json(snapshot.val());\n    res.status(200);\n  }, function (errorObject) {\n    console.log(\"The read failed: \" + errorObject.code);\n  });\n\n\n});\n\n\n\n"]}